const imagesArray = [
    'url1.jpg', 'url1.jpg', 'url2.jpg', 'url2.jpg',
    'url3.jpg', 'url3.jpg', 'url4.jpg', 'url4.jpg',
    'url5.jpg', 'url5.jpg', 'url6.jpg', 'url6.jpg',
    'url7.jpg', 'url7.jpg', 'url8.jpg', 'url8.jpg'
];
let gameBoard = document.getElementById('game-board');
let status = document.getElementById('status');
let flippedCards = [];
let matchedPairs = 0;

// Embaralha as imagens
function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
}

// Cria as cartas no tabuleiro
function createBoard() {
    let shuffledImages = shuffle(imagesArray);
    shuffledImages.forEach(imgSrc => {
        let card = document.createElement('div');
        card.classList.add('card');
        card.dataset.image = imgSrc;

        let img = document.createElement('img');
        img.src = imgSrc;
        card.appendChild(img);

        card.addEventListener('click', flipCard);
        gameBoard.appendChild(card);
    });
}

// Vira a carta e verifica a correspondência
function flipCard() {
    if (this.classList.contains('flipped') || this.classList.contains('matched')) return;

    this.classList.add('flipped');
    flippedCards.push(this);

    if (flippedCards.length === 2) {
        if (flippedCards[0].dataset.image === flippedCards[1].dataset.image) {
            flippedCards.forEach(card => card.classList.add('matched'));
            matchedPairs++;
            if (matchedPairs === imagesArray.length / 2) {
                status.textContent = 'Parabéns! Você completou o jogo!';
            }
        } else {
            setTimeout(() => flippedCards.forEach(card => card.classList.remove('flipped')), 1000);
        }
        flippedCards = [];
    }
}

createBoard();
